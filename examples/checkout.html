<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>E-Shop Checkout</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; }
        .error { color: red; font-size: 0.9em; display: none; }
        .success { color: green; font-weight: bold; display: none; }
        .section { margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        label { display: block; margin-top: 10px; }
        button#pay-now-btn { background-color: green; color: white; padding: 10px 20px; border: none; cursor: pointer; margin-top: 20px; }
    </style>
</head>
<body>

    <h1>E-Shop Checkout</h1>

    <!-- Cart Section -->
    <div class="section" id="cart-summary">
        <h2>Cart Summary</h2>
        <div class="item">
            <span>Wireless Headphones ($50)</span>
            <button onclick="addToCart(50)">Add to Cart</button>
        </div>
        <div class="item">
            <span>USB-C Cable ($10)</span>
            <button onclick="addToCart(10)">Add to Cart</button>
        </div>
        
        <div style="margin-top: 15px;">
            <label>Quantity: <input type="number" id="item-quantity" value="0" readonly></label>
            <p>Total: $<span id="total-price">0.00</span></p>
        </div>
    </div>

    <!-- Discount Section -->
    <div class="section">
        <label for="discount-code">Discount Code:</label>
        <input type="text" id="discount-code" placeholder="Enter code">
        <button onclick="applyDiscount()">Apply</button>
        <span id="discount-msg"></span>
    </div>

    <!-- User Details -->
    <div class="section">
        <h2>Shipping Details</h2>
        <form id="checkout-form">
            <label for="name">Full Name</label>
            <input type="text" id="name" required>
            <span class="error" id="name-error">Name is required</span>

            <label for="email">Email</label>
            <input type="email" id="email" required>
            <span class="error" id="email-error">Invalid email address</span>

            <label for="address">Address</label>
            <input type="text" id="address" required>
            <span class="error" id="address-error">Address is required</span>

            <!-- Shipping Method -->
            <p>Shipping Method:</p>
            <label><input type="radio" name="shipping" value="standard" checked onchange="updateTotal()"> Standard (Free)</label>
            <label><input type="radio" name="shipping" value="express" onchange="updateTotal()"> Express ($10)</label>

            <!-- Payment Method -->
            <p>Payment Method:</p>
            <label><input type="radio" name="payment" value="credit" checked> Credit Card</label>
            <label><input type="radio" name="payment" value="paypal"> PayPal</label>

            <button type="button" id="pay-now-btn" onclick="validateAndPay()">Pay Now</button>
        </form>
        <p class="success" id="payment-success">Payment Successful!</p>
    </div>

    <script>
        let total = 0;
        let discount = 0;

        function addToCart(price) {
            total += price;
            document.getElementById('item-quantity').value = parseInt(document.getElementById('item-quantity').value) + 1;
            updateTotal();
        }

        function updateTotal() {
            let shipping = document.querySelector('input[name="shipping"]:checked').value === 'express' ? 10 : 0;
            let finalTotal = (total * (1 - discount)) + shipping;
            document.getElementById('total-price').innerText = finalTotal.toFixed(2);
        }

        function applyDiscount() {
            const code = document.getElementById('discount-code').value;
            if (code === 'SAVE15') {
                discount = 0.15;
                document.getElementById('discount-msg').innerText = "15% Applied!";
                document.getElementById('discount-msg').style.color = "green";
            } else {
                discount = 0;
                document.getElementById('discount-msg').innerText = "Invalid Code";
                document.getElementById('discount-msg').style.color = "red";
            }
            updateTotal();
        }

        function validateAndPay() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            
            let valid = true;
            if (!name) { document.getElementById('name-error').style.display = 'block'; valid = false; }
            else document.getElementById('name-error').style.display = 'none';

            if (!email || !email.includes('@')) { document.getElementById('email-error').style.display = 'block'; valid = false; }
            else document.getElementById('email-error').style.display = 'none';

            if (valid) {
                document.getElementById('payment-success').style.display = 'block';
            }
        }
    </script>
</body>
</html>